{"version":3,"file":"main.js","mappings":"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","sources":["webpack://08-js-service-calls/./src/services.js","webpack://08-js-service-calls/./src/view.js","webpack://08-js-service-calls/webpack/bootstrap","webpack://08-js-service-calls/webpack/runtime/define property getters","webpack://08-js-service-calls/webpack/runtime/hasOwnProperty shorthand","webpack://08-js-service-calls/webpack/runtime/make namespace object","webpack://08-js-service-calls/./src/index.js"],"sourcesContent":["export function fetchLogin(username) {\n  return fetch('/api/session/', {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify( { username } ),\n  })\n  .catch( err => Promise.reject({ error: 'network-error' }) )\n  .then( response => {\n    if(!response.ok) {\n      return response.json().then( err => Promise.reject(err) );\n    }\n    return response.json(); // happy status code means resolve with data from service\n  });\n}\n\nexport function checkSession() {\n  return fetch('/api/session/', {\n    method: 'GET',\n    headers: {\n      'content-type': 'application/json',\n    }\n  })\n    .catch( err => Promise.reject({ error: 'network-error' }) )\n    .then( response => {\n      if(!response.ok) {\n        return response.json().then( err => Promise.reject(err) );\n      }\n      return response.json();\n    });\n}\n\nexport function logout() {\n  return fetch('/api/session/', {\n    method: 'DELETE',\n    headers: {\n      'content-type': 'application/json',\n    }\n  })\n    .catch( err => Promise.reject({ error: 'network-error' }) )\n    .then( response => {\n      if(!response.ok) {\n        return response.json().then( err => Promise.reject(err) );\n      }\n      return response.json();\n    });\n}\n\nexport function fetchUsers() {\n  return fetch('/api/users/', {\n    method: 'GET',\n    headers: {\n      'content-type': 'application/json',\n    }\n  })\n    .catch( err => Promise.reject({ error: 'network-error' }) )\n    .then( response => {\n      if(!response.ok) {\n        return response.json().then( err => Promise.reject(err) );\n      }\n      return response.json();\n    });\n}\n\nexport function postMessage(msg) {\n  return fetch('/api/message/', {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n    },\n    body: JSON.stringify( { msg } ),\n  })\n    .catch( err => Promise.reject({ error: 'network-error' }) )\n    .then( response => {\n      if(!response.ok) {\n        return response.json().then( err => Promise.reject(err) );\n      }\n      return response.json();\n    });\n}\n\nexport function fetchMessages() {\n  return fetch('/api/message/', {\n    method: 'GET',\n    headers: {\n      'content-type': 'application/json',\n    }\n  })\n    .catch( err => Promise.reject({ error: 'network-error' }) )\n    .then( response => {\n      if(!response.ok) {\n        return response.json().then( err => Promise.reject(err) );\n      }\n      return response.json();\n    });\n}\n\n\n\n","export function renderLogin(rootEl) {\r\n  rootEl.innerHTML = `\r\n    <header class=\"page__header\"><h2>Welcome!</h2><p>Please login.</p></header>\r\n    <main class=\"main\">\r\n      <div class=\"login__panel\">\r\n        <p class=\"prompt\">Please Log in: </p>\r\n        <div class=\"login__form\">\r\n          <label>\r\n              Username:\r\n              <input class=\"info__input\" type=\"text\" name=\"username\" required>\r\n          </label>\r\n          <button class=\"login__button\">Submit</button>\r\n          <span class=\"login__msg\"></span>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  `\r\n}\r\n\r\nexport function renderHome(rootEl, username) {\r\n  rootEl.innerHTML = `\r\n    <header class=\"page__header\"><h2>Welcome! ${username}</h2><button class=\"logout__button\">Log out</button></header>\r\n    <main class=\"main\">\r\n      <div class=\"chat\">\r\n        <div class=\"users\">\r\n            <ul class=\"user__list\"></ul>\r\n            <div class=\"user__loading\"><i class=\"gg-spinner\"></i></div>\r\n        </div>\r\n        <div class=\"message\">\r\n            <ul class=\"msg__list\"></ul>\r\n            <div class=\"msg__input\">\r\n                <input class=\"input__msg\"/>\r\n                <button class=\"send__msg\">Send</button>\r\n            </div>\r\n            <div class=\"msg__loading\"><i class=\"gg-spinner\"></i></div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  `\r\n}\r\n\r\nexport function renderUserList(users) {\r\n  const userList = document.querySelector('.user__list');\r\n  userList.innerHTML = users.map((user) => `<li class=\"user__list__item\">${user.username}</li>`).join(\"\");\r\n}\r\n\r\nexport function renderMsgList(messages) {\r\n  const msgList = document.querySelector('.msg__list');\r\n  msgList.innerHTML = messages.map((message) => `\r\n    <li class=\"msg__list__item\">\r\n        <p class=\"msg__user\">${message.username}<span class=\"msg__time\">${message.time}</span></p>\r\n        <p class=\"msg__text\">${message.message.replace(/</g, '&lt;').replace(/>/g, '&gt;')}</p>\r\n    </li>\r\n  `).join(\"\");\r\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {checkSession, fetchLogin, fetchUsers, logout, postMessage, fetchMessages} from './services';\r\nimport {renderLogin, renderHome, renderUserList, renderMsgList} from './view'\r\n\r\nconst rootEl = document.querySelector('#root');\r\nconst loading = document.querySelector('.loading');\r\nlet intervalUser;\r\nlet intervalMsg;\r\n\r\nrootEl.addEventListener('click', (e) => {\r\n  if(e.target.classList.contains('login__button')) {\r\n    const username = document.getElementsByClassName('info__input')[0].value;\r\n    doLogin(username);\r\n  }\r\n\r\n  if (e.target.classList.contains('logout__button')) {\r\n    logout()\r\n      .then(res => {\r\n        renderLogin(rootEl);\r\n      });\r\n  }\r\n\r\n  if (e.target.classList.contains('send__msg')) {\r\n    const inputEl = document.getElementsByClassName('input__msg')[0];\r\n    const msg = inputEl.value;\r\n    if (msg == null || msg === '') return;\r\n    postMessage(msg)\r\n      .then(res => {\r\n        inputEl.value = '';\r\n        doFetchMessages();\r\n        startIntervalForMessages();\r\n      })\r\n  }\r\n});\r\n\r\nfunction doLogin(username) {\r\n  fetchLogin(username)\r\n    .then(res => {\r\n      document.getElementsByClassName('login__msg')[0].innerText = '';\r\n      getHome(res.username);\r\n    })\r\n    .catch(error => {\r\n      document.getElementsByClassName('login__msg')[0].innerText = error.error;\r\n    })\r\n}\r\n\r\nfunction getHome(username) {\r\n  renderHome(rootEl, username);\r\n  doFetchUsers();\r\n  doFetchMessages();\r\n  startIntervalForUsers();\r\n  startIntervalForMessages();\r\n}\r\n\r\nfunction doFetchUsers() {\r\n  const userLoading = document.querySelector('.user__loading');\r\n  userLoading.style.display = 'flex';\r\n  fetchUsers()\r\n    .then(res => {\r\n      renderUserList(res.users);\r\n    })\r\n    .catch(error => {})\r\n    .finally(() => { userLoading.style.display = 'none'; })\r\n}\r\n\r\nfunction startIntervalForUsers() {\r\n  clearInterval(intervalUser);\r\n  intervalUser = setInterval(() => {\r\n    doFetchUsers();\r\n  }, 5000);\r\n}\r\n\r\nfunction doFetchMessages() {\r\n  const msgLoading = document.querySelector('.msg__loading');\r\n  msgLoading.style.display = 'flex';\r\n  fetchMessages()\r\n    .then(res => {\r\n      renderMsgList(res.msgList);\r\n    })\r\n    .catch(error => {})\r\n    .finally(() => { msgLoading.style.display = 'none'; })\r\n}\r\n\r\nfunction startIntervalForMessages() {\r\n  clearInterval(intervalMsg);\r\n  intervalMsg = setInterval(() => {\r\n    doFetchMessages();\r\n  }, 5000);\r\n}\r\n\r\ncheckSession()\r\n  .then(res => {\r\n    getHome(res.username);\r\n    loading.style.display = 'none';\r\n  })\r\n  .catch(error => {\r\n    renderLogin(rootEl);\r\n    loading.style.display = 'none';\r\n  });"],"names":["fetchLogin","username","fetch","method","headers","body","JSON","stringify","err","Promise","reject","error","then","response","ok","json","checkSession","logout","fetchUsers","postMessage","msg","fetchMessages","renderLogin","rootEl","innerHTML","renderHome","concat","renderUserList","users","userList","document","querySelector","map","user","join","renderMsgList","messages","msgList","message","time","replace","loading","intervalUser","intervalMsg","addEventListener","e","target","classList","contains","getElementsByClassName","value","doLogin","res","inputEl","doFetchMessages","startIntervalForMessages","innerText","getHome","doFetchUsers","startIntervalForUsers","userLoading","style","display","clearInterval","setInterval","msgLoading"],"sourceRoot":""}